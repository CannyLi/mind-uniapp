"use strict";const e=require("../../common/vendor.js"),o=e.defineStore("users",{state:()=>({loginStatus:!1,userInfo:{}}),actions:{initUser(){let o=e.index.getStorageSync("userInfo");if(o)try{o=JSON.parse(o),this.$patch({userInfo:o,loginStatus:!0}),console.log("User is logged in:",o)}catch(s){console.error("Failed to parse userInfo:",s)}else console.log("No user info found. User is not logged in.")},login(o){this.userInfo=o.userInfo,this.loginStatus=!0,console.log("User logged in:",o),e.index.setStorageSync("userInfo",JSON.stringify(o))},logout(){this.userInfo={},this.loginStatus=!1,e.index.removeStorageSync("userInfo"),console.log("User logged out")}}});exports.useUserStore=o;
